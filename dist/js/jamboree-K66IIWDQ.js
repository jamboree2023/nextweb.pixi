import{a as G,b as Q,c as E}from"./chunk-DADWVMNF.js";import"./chunk-UCMEGCU7.js";import"./chunk-PR5KCFHF.js";import{A as Z,B as F,D as ee,E as te,F as re,G as oe,y as de}from"./chunk-XA34ZMT4.js";import{A as T,D as P,E as x,F as y,H as V,S as J,U as W,b as me,e as B,f as z,h as A,j as N,k as Y,l as X,m as K,p as C,t as h,w as q}from"./chunk-7GWG3GCC.js";var H;function se(){return typeof H>"u"&&(H=function(){let e={stencil:!0,failIfMajorPerformanceCaveat:P.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!P.ADAPTER.getWebGLRenderingContext())return!1;let r=P.ADAPTER.createCanvas().getContext("webgl2",e),o=!!r?.getContextAttributes()?.stencil;if(r){let s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,o}catch{return!1}}()),H}async function ie(n={}){if(!P.ADAPTER.getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(n)).requestDevice(),!0}catch{return!1}}var ae=["webgpu","webgl","canvas"];async function R(n){let e=[];n.preference?(e.push(n.preference),ae.forEach(s=>{s!==n.preference&&e.push(s)})):e=ae.slice();let t;(n.manageImports??!0)&&await import("./all-NIHU4MKL.js");let r={};for(let s=0;s<e.length;s++){let i=e[s];if(i==="webgpu"&&await ie()){let{WebGPURenderer:a}=await import("./WebGPURenderer-GFAINDUE.js");t=a,r={...n,...n.webgpu};break}else if(i==="webgl"&&se()){let{WebGLRenderer:a}=await import("./WebGLRenderer-ZSDYWBAX.js");t=a,r={...n,...n.webgl};break}else if(i==="canvas"){r={...n};break}}delete r.webgpu,delete r.webgl;let o=new t;return await o.init(r),o}var L=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};var S=n=>!Array.isArray(n);var O=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=(async()=>{let o=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||h(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let i=0;i<this.parsers.length;i++){let a=this.parsers[i];if(a.load&&a.test?.(e,t,this)){s=a;break}}if(!s)return h(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await s.load(e,t,this),r.parser=s;for(let i=0;i<this.parsers.length;i++){let a=this.parsers[i];a.parse&&a.parse&&await a.testParse?.(o,t,this)&&(o=await a.parse(o,t,this)||o,r.parser=a)}return o})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0,o={},s=S(e),i=x(e,f=>({alias:[f],src:f})),a=i.length,p=i.map(async f=>{let l=G.toAbsolute(f.src);if(!o[f.src])try{this.promiseCache[l]||(this.promiseCache[l]=this._getLoadPromiseAndParser(l,f)),o[f.src]=await this.promiseCache[l].promise,t&&t(++r/a)}catch(m){throw delete this.promiseCache[l],delete o[f.src],new Error(`[Loader.load] Failed to load ${l}.
${m}`)}});return await Promise.all(p),s?o[i[0].src]:o}async unload(e){let r=x(e,o=>({alias:[o],src:o})).map(async o=>{let s=G.toAbsolute(o.src),i=this.promiseCache[s];if(i){let a=await i.promise;delete this.promiseCache[s],i.parser?.unload?.(a,o,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(t.name?e[t.name]&&h(`[Assets] loadParser name conflict "${t.name}"`):h("[Assets] loadParser should have a name"),{...e,[t.name]:t}),{})}};function ne(n,e,t,r,o){let s=e[t];for(let i=0;i<s.length;i++){let a=s[i];t<e.length-1?ne(n.replace(r[t],a),e,t+1,r,o):o.push(n.replace(r[t],a))}}function pe(n){let e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){let o=[];t.forEach(s=>{let i=s.substring(1,s.length-1).split(",");o.push(i)}),ne(n,o,0,t,r)}else r.push(n);return r}var U=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{let t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){let{alias:t,name:r,src:o,srcs:s}=e;return x(t||r||o||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(p=>p?.src??p?.srcs??p):a?.src||a?.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&h("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){let r=[];Array.isArray(t)?t.forEach(o=>{let s=o.src??o.srcs,i=o.alias??o.name,a;if(typeof i=="string"){let p=this._createBundleAssetId(e,i);r.push(p),a=[i,p]}else{let p=i.map(f=>this._createBundleAssetId(e,f));r.push(...p),a=[...i,...p]}this.add({...o,alias:a,src:s})}):Object.keys(t).forEach(o=>{let s=[o,this._createBundleAssetId(e,o)];if(typeof t[o]=="string")this.add({alias:s,src:t[o]});else if(Array.isArray(t[o]))this.add({alias:s,src:t[o]});else{let i=t[o],a=i.src??i.srcs;this.add({...i,alias:s,src:Array.isArray(a)?a:[a]})}r.push(...s)}),this._bundles[e]=r}add(e){let t=[];Array.isArray(e)?t.push(...e):t.push(e);let r;r=s=>{this.hasKey(s)&&h(`[Resolver] already has key: ${s} overwriting`)},x(t).forEach(s=>{let{src:i,srcs:a}=s,{data:p,format:f,loadParser:l}=s,m=x(i||a).map(u=>typeof u=="string"?pe(u):Array.isArray(u)?u:[u]),c=this.getAlias(s);Array.isArray(c)?c.forEach(r):r(c);let d=[];m.forEach(u=>{u.forEach(g=>{let _={};if(typeof g!="object"){_.src=g;for(let I=0;I<this._parsers.length;I++){let j=this._parsers[I];if(j.test(g)){_=j.parse(g);break}}}else p=g.data??p,f=g.format??f,l=g.loadParser??l,_={..._,...g};if(!c)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this._buildResolvedAsset(_,{aliases:c,data:p,format:f,loadParser:l}),d.push(_)})}),c.forEach(u=>{this._assetMap[u]=d})})}resolveBundle(e){let t=S(e);e=x(e);let r={};return e.forEach(o=>{let s=this._bundles[o];if(s){let i=this.resolve(s),a={};for(let p in i){let f=i[p];a[this._extractAssetIdFromBundle(o,p)]=f}r[o]=a}}),t?r[e[0]]:r}resolveUrl(e){let t=this.resolve(e);if(typeof e!="string"){let r={};for(let o in t)r[o]=t[o].src;return r}return t.src}resolve(e){let t=S(e);e=x(e);let r={};return e.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let s=this._assetMap[o],i=s[0],a=this._getPreferredOrder(s);a?.priority.forEach(p=>{a.params[p].forEach(f=>{let l=s.filter(m=>m[p]?m[p]===f:!1);l.length&&(s=l)})}),this._resolverHash[o]=s[0]??i}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let r=e[0],o=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){let{aliases:r,data:o,loadParser:s,format:i}=t;return(this._basePath||this._rootPath)&&(e.src=G.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...o||{},...e.data},e.loadParser=s??e.loadParser,e.format=i??e.src.split(".").pop(),e.srcs=e.src,e.name=e.alias,e}};var k=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new U,this.loader=new O,this.cache=y,this._backgroundLoader=new L(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){h("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}let t=e.texturePreference?.resolution??1,r=typeof t=="number"?[t]:t,o=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();let r=S(e),o=x(e).map(a=>{if(typeof a!="string"){let p=this.resolver.getAlias(a);return p.some(f=>!this.resolver.hasKey(f))&&this.add(a),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(o),i=await this._mapLoadToResolve(s,t);return r?i[o[0]]:i}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);let o=this.resolver.resolveBundle(e),s={},i=Object.keys(o),a=0,p=0,f=()=>{t?.(++a/p)},l=i.map(m=>{let c=o[m];return p+=Object.keys(c).length,this._mapLoadToResolve(c,f).then(d=>{s[m]=d})});return await Promise.all(l),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);let t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return y.get(e);let t={};for(let r=0;r<e.length;r++)t[r]=y.get(e[r]);return t}async _mapLoadToResolve(e,t){let r=Object.values(e),o=Object.keys(e);this._backgroundLoader.active=!1;let s=await this.loader.load(r,t);this._backgroundLoader.active=!0;let i={};return r.forEach((a,p)=>{let f=s[a.src],l=[a.src];a.alias&&l.push(...a.alias),i[o[p]]=f,y.set(l,f)}),i}async unload(e){this._initialized||await this.init();let t=x(e).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=x(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(o=>this._unloadFromResolved(t[o]));await Promise.all(r)}async _unloadFromResolved(e){let t=Object.values(e);t.forEach(r=>{y.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(let r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,o)=>t.indexOf(r)===o),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{!t.config||Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}},v=new k;z.handleByList(B.LoadParser,v.loader.parsers).handleByList(B.ResolveParser,v.resolver.parsers).handleByList(B.CacheParser,v.cache.parsers).handleByList(B.DetectionParser,v.detections);function fe(n){let e=n._stroke,t=n._fill;return["transform-origin: top left","display: inline-block",`color: ${A.shared.setValue(t.color).toHex()}`,`font-size: ${n.fontSize}px`,`font-family: ${n.fontFamily}`,`font-weight: ${n.fontWeight}`,`font-style: ${n.fontStyle}`,`font-variant: ${n.fontVariant}`,`letter-spacing: ${n.letterSpacing}px`,`text-align: ${n.align}`,`padding: ${n.padding}px`,`white-space: ${n.whiteSpace}`,...n.lineHeight?[`line-height: ${n.lineHeight}px`]:[],...n.wordWrap?[`word-wrap: ${n.breakWords?"break-all":"break-word"}`,`max-width: ${n.wordWrapWidth}px`]:[],...e?[`-webkit-text-stroke-width: ${e.width}px`,`-webkit-text-stroke-color: ${A.shared.setValue(e.color).toHex()}`,`text-stroke-width: ${e.width}px`,`text-stroke-color: ${A.shared.setValue(e.color).toHex()}`,"paint-order: stroke"]:[],...n.dropShadow?[ce(n.dropShadow)]:[],...n.cssOverrides].join(";")}function ce(n){let e=A.shared.setValue(n.color).setAlpha(n.alpha).toHexa(),t=Math.round(Math.cos(n.angle)*n.distance),r=Math.round(Math.sin(n.angle)*n.distance),o=`${t}px ${r}px`;return n.blur>0?`text-shadow: ${o} ${n.blur}px ${e}`:`text-shadow: ${o} ${e}`}var b=class extends F{constructor(e){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides)}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=Z(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new b({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=fe(this)),this._cssStyle}addOverride(...e){let t=e.filter(r=>!this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){let t=e.filter(r=>this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides=this.cssOverrides.filter(r=>!t.includes(r)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&h("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&h("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}};function $(n,e){return e instanceof F||e instanceof b?e:n==="html"?new b(e):new F(e)}var he={canvas:"text",html:"htmlText",bitmap:"bitmapText"},D=class{constructor(e){this.uid=Y("textView"),this.renderPipeId="text",this.owner=J,this.batched=!0,this.resolution=null,this._didUpdate=!0,this.roundPixels=0,this._bounds=[0,1,0,0],this._boundsDirty=!0,this.text=e.text??"";let t=e.renderMode??this._detectRenderType(e.style);this._renderMode=t,this._style=$(t,e.style),this.renderPipeId=he[t],this.anchor=new N(this,0,0),this.resolution=e.resolution??null}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onUpdate())}get text(){return this._text}get style(){return this._style}set style(e){e=e||{},this._style?.off("update",this.onUpdate,this),this._style=$(this._renderMode,e),this._style.on("update",this.onUpdate,this),this.onUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}addBounds(e){let t=this.bounds;e.addFrame(t[0],t[2],t[1],t[3])}containsPoint(e){let t=this.bounds[2],r=this.bounds[3],o=-t*this.anchor.x,s=0;return e.x>=o&&e.x<o+t&&(s=-r*this.anchor.y,e.y>=s&&e.y<s+r)}onUpdate(){this._didUpdate=!0,this._boundsDirty=!0,this.owner.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}`}_updateBounds(){let e=this._bounds,t=this._style.padding,r=this.anchor;if(this.renderPipeId==="bitmapText"){let o=re.measureText(this.text,this._style),s=o.scale,i=o.offsetY*s,a=o.width*s,p=o.height*s;e[0]=-r._x*a-t,e[1]=e[0]+a,e[2]=-r._y*(p+i)-t,e[3]=e[2]+p}else if(this.renderPipeId==="htmlText"){let o=oe(this.text,this._style),{width:s,height:i}=o;e[0]=-r._x*s-t,e[1]=e[0]+s,e[2]=-r._y*i-t,e[3]=e[2]+i}else{let o=ee.measureText(this.text,this._style),{width:s,height:i}=o;e[0]=-r._x*s-t,e[1]=e[0]+s,e[2]=-r._y*i-t,e[3]=e[2]+i}}_detectRenderType(e){if(e instanceof b)return"html";let t=y.get(e?.fontFamily);return t instanceof te||t instanceof Q?"bitmap":"canvas"}destroy(e=!1){this.owner=null,this._bounds=null,this.anchor=null,this._style.destroy(e),this._style=null,this._text=null}};var w=class extends T{constructor(...e){let t=e[0];(typeof t=="string"||e[1])&&(K(X,'use new Text({ text: "hi!", style }) instead'),t={text:t,style:e[1]});let{style:r,text:o,renderMode:s,resolution:i,...a}=t;super({view:new D(q({style:r,text:o,renderMode:s,resolution:i})),label:"Text",...a}),this.allowChildren=!1}get anchor(){return this.view.anchor}set anchor(e){this.view.anchor.x=e.x,this.view.anchor.y=e.y}set text(e){this.view.text=e}get text(){return this.view.text}set style(e){this.view.style=e}get style(){return this.view.style}get roundPixels(){return!!this.view.roundPixels}set roundPixels(e){this.view.roundPixels=e?1:0}};var xe=me(de(),1);var M=class{constructor(e,t){this.gravity=.75;this.speedX=Math.random()*10;this.speedY=Math.random()*10-5;this.positionX=0;this.positionY=0;this.view=new W(e),this.view.anchor.set(.5,1),this.bounds=t}update(){let e=this.positionX,t=this.positionY;e+=this.speedX,t+=this.speedY,this.speedY+=this.gravity,e>this.bounds.right?(this.speedX*=-1,e=this.bounds.right):e<this.bounds.left&&(this.speedX*=-1,e=this.bounds.left),t>this.bounds.bottom?(this.speedY*=-.85,t=this.bounds.bottom,Math.random()>.5&&(this.speedY-=Math.random()*6)):t<this.bounds.top&&(this.speedY=0,t=this.bounds.top),this.view.position.x=this.positionX=e,this.view.position.y=this.positionY=t}reset(){this.positionX=0,this.positionY=0}};V.defaultOptions.scaleMode="nearest";E.defaultEventFeatures.move=!1;E.defaultEventFeatures.globalMove=!1;var le=[];async function Xt({preference:n}){let e=await R({preference:n,clearBeforeRender:!0,backgroundAlpha:1,backgroundColor:16777215,width:800,height:600,resolution:1,antialias:!1,hello:!0});document.body.appendChild(e.view.canvas);let t=1e6,r=new T;r.children.length=t;let o=Object.values(await v.load(["./assets/bunnies/rabbitv3_ash.png","./assets/bunnies/rabbitv3_batman.png","./assets/bunnies/rabbitv3_bb8.png","./assets/bunnies/rabbitv3_frankenstein.png","./assets/bunnies/rabbitv3_neo.png","./assets/bunnies/rabbitv3_sonic.png","./assets/bunnies/rabbitv3_spidey.png","./assets/bunnies/rabbitv3_stormtrooper.png","./assets/bunnies/rabbitv3_superman.png","./assets/bunnies/rabbitv3_tron.png","./assets/bunnies/rabbitv3_wolverine.png","./assets/bunnies/rabbitv3.png"])),s=new C(0,0,800,600),i=new Array(t),a=0,p=new w("Basic text in pixi");p.x=50,p.y=100,r.addChild(p),setInterval(function(){p.text=a+" vs"+i.length},1e3);function f(){let d=le.pop()||new M(o[a%o.length],s);a++,d.reset(),r.addChild(d.view),i[a]=d}function l(){requestAnimationFrame(()=>{let d=Date.now(),u=Math.round(1e3/(Date.now()-d)),g=!0;u<60&&(console.log("fps danger zone"),g=!0),u<24&&(console.log("fps lag detected"),g=!1),g&&f(),l()})}l();let m=!1;e.view.canvas.addEventListener("mousedown",()=>{m=!m});function c(){if(!m)for(let d=0;d<i.length;d++)!i[d]||i[d].update();e.render(r),requestAnimationFrame(c)}c()}async function Kt({preference:n}){let e=await R({preference:n,clearBeforeRender:!0,backgroundAlpha:1,backgroundColor:16777215,width:800,height:600,resolution:1,antialias:!1,hello:!0});e.resize(window.innerWidth,window.innerHeight),document.body.appendChild(e.view.canvas);let t=new T,r=Object.values(await v.load(["./assets/bunnies/rabbitv3_ash.png","./assets/bunnies/rabbitv3_batman.png","./assets/bunnies/rabbitv3_bb8.png","./assets/bunnies/rabbitv3_frankenstein.png","./assets/bunnies/rabbitv3_neo.png","./assets/bunnies/rabbitv3_sonic.png","./assets/bunnies/rabbitv3_spidey.png","./assets/bunnies/rabbitv3_stormtrooper.png","./assets/bunnies/rabbitv3_superman.png","./assets/bunnies/rabbitv3_tron.png","./assets/bunnies/rabbitv3_wolverine.png","./assets/bunnies/rabbitv3.png"])),o=new C(0,0,800,600),s=[],i=new w("Basic text in pixi");i.x=50,i.y=100,t.addChild(i),setInterval(function(){i.text="Hackathonists Arrived: "+s.length},1e3);function a(){let m=le.pop()||new M(r[s.length%r.length],o);m.reset(),t.addChild(m.view),s.push(m)}function p(){requestAnimationFrame(()=>{let m=Date.now(),c=Math.round(1e3/(Date.now()-m)),d=!0;c<60&&(console.log("fps danger zone"),d=!0),c<24&&(console.log("fps lag detected"),d=!1),d&&a(),p()})}p();let f=!1;e.view.canvas.addEventListener("mousedown",()=>{f=!f});function l(){if(!f)for(let m=0;m<s.length;m++)!s[m]||s[m].update();e.render(t),requestAnimationFrame(l)}l()}export{Xt as jamboRee,Kt as jamboReeUnallocated};
